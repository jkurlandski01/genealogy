DatabaseNotes

Select those rows which have the same column value.
select response_pool_id, count(*) from response_pool_entry group by response_pool_id having count(*) > 1;

Select those rows which have the same column values.
select response_pool_id, response_template, count(*) from response_pool_entry group by response_pool_id, response_template having count(*) > 1;


Show all the tables (mysql)
show tables;


Create a table with a timestamp column:

With a timestamp column:

CREATE  TABLE `Eliza_analysis`.`analysis` (
  `id` INT NOT NULL AUTO_INCREMENT ,
  `input` VARCHAR(255) NOT NULL ,
  `reply` VARCHAR(255) NOT NULL ,
  `score` DECIMAL(4,3) NOT NULL ,
  `eligibleScore` DECIMAL(4,3) NOT NULL ,
  `depth` INT NOT NULL ,
  `pertinentInfo` VARCHAR(127) NOT NULL ,
  `timestamp1` TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`) ,
  UNIQUE INDEX `id_UNIQUE` (`id` ASC) );

Load a flat file:

LOAD DATA LOCAL INFILE '/Users/geraldkurlandski/Documents/DialogManager/AnalysisTestDriver/20140929_145632.txt' INTO TABLE analysis FIELDS TERMINATED BY '|' ;


deleting rows on a table with foreign key contraints

mysql> truncate conversation;
ERROR 1701 (42000): Cannot truncate a table referenced in a foreign key constraint (`eliza`.`conversation_non_volatile`, CONSTRAINT `conversation_non_volatile_ibfk_1` FOREIGN KEY (`conversation_id`) REFERENCES `eliza`.`conversation` (`conversation_id`))
mysql> select * from conversation_non_volatile;
Empty set (0.00 sec)


mysql> SET FOREIGN_KEY_CHECKS=0;
Query OK, 0 rows affected (0.00 sec)

mysql> truncate conversation;
Query OK, 0 rows affected (0.00 sec)

mysql> SET FOREIGN_KEY_CHECKS=1;
Query OK, 0 rows affected (0.00 sec)

mysql> select * from conversation;
Empty set (0.00 sec)

