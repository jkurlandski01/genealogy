<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Close to the Machine</title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<link href="../../default.css" rel="stylesheet" type="text/css" media="all" />
<link href="../../fonts.css" rel="stylesheet" type="text/css" media="all" />
<!--[if IE 6]>
<link href="default_ie6.css" rel="stylesheet" type="text/css" />
<![endif]-->
</head>
<body>
<div id="wrapper">
	<div id="header-wrapper">
		<div id="menu" class="container">
			<ul>
				<li><a href="../index.html">Home</a></li>
				<li><a href="../Guava/index.html">Guava</a></li>
				<li><a href="../Java/index.html">Java</a></li>
				<li><a href="../NLP_AI/index.html">NLP / AI</a></li>
				<li class="current_page_item"><a href="../CSS_HTML/index.html">Int. CSS / HTML</a></li>
				<li><a href="../WWW/index.html">WWW</a></li>
				<li><a href="../Misc/index.html">Miscellaneous</a></li>
			</ul>
		</div>
		<!-- end #menu -->
		<div id="header" class="container">
			<div id="logo">
				<h1>Close to the</h1>
				<h1>Machine</h1>
				<br>
				<p>Jerry Kurlandski</p>
			</div>
            <div id="header-image1"> <a href="#" class="image"><img src="../../images/bookshelfPanorama.jpg" alt="" /></a> </div>
            <div id="header-image2"> <a href="#" class="image"><img src="../../images/bookshelfPanorama.jpg" alt="" /></a> </div>
		</div>
	</div>
	<div id="page" class="container">
		<div id="content">
			<div class="title">
				<h2>SVN Cheat Sheet</h2>
			</div>
            <p>JERRY: Red bar at top needs to point to this page's subtopic </p>

            <p>JERRY: add/delete items to sidebar</p>
            
            <p>JERRY: need first par of each section to be closer to the heading</p>
            <p>JERRY: need to replace file/folder with item, when appropriate</p>
            <p>JERRY: tables need a little vertical space on the inside</p>

            <p>I love Eclipse. I love its layout, its functionality, and the general utility it receives from its many plug-ins. But the SVN plugins for Eclipse, over the years, have let me down too many times. They're a pain when it comes to ignoring files once they've been added to the repository; they tend to lose the file history when you rename a file; and they're just buggy enough to, every once in while, cause me to lose a lot of work.</p>
            <p>So I've moved to the command line for most of my SVN work. I still like the Eclipse plug-ins for viewing diffs, for the similar task of resolving conflicts, and for going through a file's version history. This plug-in functionality is useful and very reliable. But I don't use Eclipse for the tasks like the following: committing, updating, adding and deleting files, renaming files and moving files. Also the tedious but necessary task of ignoring files and folders--that is, telling the SVN repository not to consider them--is best done at the command line.</p>
            <p>Here's a quick guide--for my own use as much as anyone else's--of the commands I most often use and what they do.</p>
            
            <h3>SVN Status</h3>
            <p>This set of commands compares your changes to other versions of the code base.</p>

            <div class="singleSpacedDescription">
                    <div class="floatedtable">
                        <table border="1">
                            <tr>
                                <th>Symbol</th>
                                <th>Meaning</th>
                            </tr>
                            <tr>
                                <td>(empty string)</td>
                                <td>No modifications</td>
                            </tr>
                            <tr>
                                <td>M</td>
                                <td>Modified item</td>
                            </tr>
                            <tr>
                                <td>?</td>
                                <td>New item not in repository</td>
                            </tr>
                            <tr>
                                <td>! (excl. pt.)</td>
                                <td>Repository item missing</td>
                            </tr>
                            <tr>
                                <td>A</td>
                                <td>Added item</td>
                            </tr>
                            <tr>
                                <td>D</td>
                                <td>Deleted item</td>
                            </tr>
                            <tr>
                                <td>I (capital "i")</td>
                                <td>Ignored item</td>
                            </tr>
                            <tr>
                                <td>C</td>
                                <td>Item in conflict with repository change</td>
                            </tr>
                        </table>
                        <div class="figcaption">
                            <p>Symbols for simple <code>svn status</code> command</p>
                        </div>
                    </div>
                <li>$ svn status</li>
                <p>Compare local version to the base revision. Item status is represented by symbols appearing in the left-most column--see the table at right.</p>
            </div>

            <div class="singleSpacedDescription">
                    <div class="floatedtable">
                        <table border="1">
                            <tr>
                                <th>Symbol</th>
                                <th>Meaning</th>
                            </tr>
                            <tr>
                                <td>* (asterisk, in mid. col.)</td>
                                <td>Repository version is newer</td>
                            </tr>
                            <tr>
                                <td>(integer, in right col.)</td>
                                <td>Item's local revision number</td>
                            </tr>
                        </table>
                        <div class="figcaption">
                            <p>Symbols for <code>svn status -u</code> command</p>
                        </div>
                    </div>
                <li>$ svn status -u</li>
                <p>Compare local version to the repository itself. Tells you what repository updates are not local. In addition to the status of local changes given in the left-most column, this command returns the repository status of items in the middle and right columns--see the table at right for these symbols. The command ends by displaying "Status against revision:" plus a revision number; this is the latest revision in the repository.</p>
            </div>

            <div class="singleSpacedDescription">
                <li>$ svn status --no-ignore</li>
                <p>Run the "svn status" command, but include in the output the status of ignored elements.</p>
            </div>
            

            <h3>SVN Commit</h3>
            <p>Commits not only commit your modifications to the repository, but also commit the addition or removal of files to the repository; in other words, an "svn add" and "svn remove" must be followed by a commit..</p>
            
            <div class="singleSpacedDescription">
                <li>$ svn commit -m "your message" &lt;filename&gt;</li>
                <p>Commit a single item, with a message that will go into the file's history.</p>
            </div>
            
            <div class="singleSpacedDescription">
                <li>$ svn commit -m "your message"</li>
                <p>Recursively commit your local changes to the repository. The message becomes part of the change history.</p>
            </div>
            
            
            <h3>SVN Add</h3>
            <p>This set of commands adds files and directories to the repository. They deal only with items whose status is marked by a question mark ("?"). Note that these changes must all be followed by a commit.</p>
            
            <div class="singleSpacedDescription">
                <li>$ svn add &lt;filename&gt;</li>
                <p>Add the file to the repository. If &lt;filename&gt; is a directory, all unversioned subfolders and files will also be added.</p>
            </div>

            <div class="singleSpacedDescription">
                <li>$ for i in  $(svn status | grep \? | awk '{print $2}'); do svn add $i; done</li>
                <p>Probably your best bet for a recursive add. This Unix command recursively adds all new files to the repository, whether their directories are versioned or unversioned. The command works by adding all files whose status is "?", so it does not operate on your ignored files, as these do not appear in the status command.</p>
            </div>

            <div class="singleSpacedDescription">
                <li>$ svn add *</li>
                <p>Recursively add all new items to the repository. This command skips over versioned directories, i.e. it will not add unversioned files in a versioned directory (or even a non-versioned directory in a versioned directory). Note that this command will also add files/folders in the current directory which are in your ignore list!</p>
            </div>

            <div class="singleSpacedDescription">
                <li>$ svn add * --force</li>
                <p>Recursively add all new items to the repository, whether their directories are versioned or unversioned. Note that this command will also add files/folders in the current directory which are in your ignore list! (See the Unix command below if this is a problem.)</p>
            </div>


            <h3>SVN Move</h3>
            <p>This set of commands moves or renames a file or directory. Moving or renaming a file through SVN is better than simply doing it through your operating system, because the file's change history will be maintained. (That is, it will copy the history of the old file to the new file's history.) Note that these changes must all be followed by a commit.</p>

            <div class="singleSpacedDescription">
                <li>$ svn move &lt;oldItemName&gt; &lt;newItemName&gt;</li>
                <p>Rename a file/directory.</p>
            </div>

            <div class="singleSpacedDescription">
                <li>$ svn move &lt;oldPath/item&gt; &lt;newPath/item&gt;</li>
                <p>Move a file/directory.</p>
            </div>


            <h3>SVN Remove/Delete</h3>
            <p>This set of commands removes a specific file or directory from the repository. The following svn commands behave identically: <code>remove, delete, rm, del</code>. Note that these changes must all be followed by a commit.</p>
            
            <div class="singleSpacedDescription">
                <li>$ svn rm &lt;filename&gt;</li>
                <p>Remove the file/directory from both your filesystem and the repository.</p>
            </div>

            <div class="singleSpacedDescription">
                <li>$ svn rm --keep-local &lt;filename&gt;</li>
                <p>Remove the file/directory from the repository, but not locally. This will generally be an important file or directory, e.g. .classpath. Ordinarily you will also want to <code>ignore</code> this file as well--see below.</p>
            </div>

            <div class="singleSpacedDescription">
                <li>$ for i in  $(svn status | grep \! | awk '{print $2}'); do svn delete $i; done</li>
                <p>Unix command to recursively delete all missing files from the repository, whether their directories are versioned or unversioned. The command works by deleting all files whose status is "!". Since, unlike <code>add</code>, there is no recursive version of <code>delete</code>, this command can sometimes be very useful--for example, if you've deleted many files in several directories via your operating system.</p>
            </div>


            <h3>SVN Ignore</h3>
            <p>Use svn's ignore property to avoid putting items into the repository. You do this, for example, with files that may differ from one machine to the next, as with .classpath settings--or with files which are produced in the compilation process, as with .class or .exe files and the directories which contain them.</p>
            
            <div class="singleSpacedDescription">
                <li>$ export SVN_EDITOR=vim</li>
                <p>Sets your property editor to vim; useful if the command below fails because you have no property editor. Note that vi and vim are powerful but not user friendly.</p>
            </div>

            <div class="singleSpacedDescription">
                <li>$ svn propedit svn:ignore .</li>
                <p>This will bring up your text editor so you can enter a list of files or directories to ignore. Applicable only to those files and folders in the current directory.</p>
            </div>


            <h3>Less often used SVN commands</h3>
            <p>These commands are useful, but tend not to be used as often as the ones above.</p>
            
            <div class="singleSpacedDescription">
                <li>$ svn checkout &lt;URL&gt;</li>
                <p>Creates a local version of the repository, by linking the current directory to the repository and copying the files at the repository location to the current location in your file system. If a password is required you will be prompted with your computer user name as the default logon user name; if that is not correct, the password will fail and you'll be given a chance to input both the repository user name and the repository password.</p>
            </div>

            <div class="singleSpacedDescription">
                <li>$ svn diff &lt;filename&gt;</li>
                <p>Does a Unix-style diff of the file and the base revision.</p>
            </div>

		</div>
		
		
		<div id="sidebar">
			<div class="internalLinkBox">
				<div class="title">
					<h2>Intermediate CSS / HTML Links</h2>
				</div>
				<ul class="style2">
                    <li><a href="floating.html">Floating Tables and Images</a></li>
                    <li><a href="preAndCode.html">Using  &lt;pre&gt; and &lt;code&gt; to Display Code</a></li>
                    <li><a href="htmlEntities.html">HTML Entities and Reserved Characters</a></li>
                    <li><a href="aptana.html">Useful tools in the Aptana Eclipse Plug-in</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
<div id="copyright" class="container">
	<p>Copyright (c) 2013 jkurlandski.com. All rights reserved. | Original design by <a href="http://www.freecsstemplates.org/" rel="nofollow">FreeCSSTemplates.org</a>.</p>
</div>
</body>
</html>
