<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>SVN Commands</title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<link href="../../default.css" rel="stylesheet" type="text/css" media="all" />
<link href="../../fonts.css" rel="stylesheet" type="text/css" media="all" />
<!--[if IE 6]>
<link href="default_ie6.css" rel="stylesheet" type="text/css" />
<![endif]-->
</head>
<body>
<div id="wrapper">
	<div id="header-wrapper">
		<div id="menu" class="container">
			<ul>
                <li><a href="../index.html">Home</a></li>
                <li><a href="../Java/index.html">Java</a></li>
                <li><a href="../Guava/index.html">Guava</a></li>
                <li><a href="../CSS_HTML/index.html">CSS / HTML</a></li>
                <li><a href="../Web/index.html">Web</a></li>
                <li class="current_page_item"><a href="../Misc/index.html">Miscellaneous</a></li>
                <li><a href="../professionalContact.html">Contact</a></li>
			</ul>
		</div>
		<!-- end #menu -->
		<div id="header" class="container">
			<div id="logo">
				<h1>Close to the</h1>
				<h1>Machine</h1>
				<p>Jerry Kurlandski</p>
			</div>
            <div id="header-image1"> <a href="#" class="image"><img src="../../images/bookshelfPanorama.jpg" alt="" /></a> </div>
            <div id="header-image2"> <a href="#" class="image"><img src="../../images/bookshelfPanorama.jpg" alt="" /></a> </div>
		</div>
	</div>
	<div id="page" class="container">
		<div id="content">
			<div class="title">
				<h2>SVN Command Summary</h2>
			</div>
            <br/>
            
            <p>Here's a quick guide&mdash;for my own use as much as anyone else's&mdash;to the SVN commands I most often use.</p>
            <p>Personally, I find a list of commands like this useful only once you have gotten used to working with SVN. An absolute beginner may find my "SVN Tasks" page, linked to in the sidebar, a better starting point.</p>
            <p>Note: in the explanations below, the term "item" refers to both files and directories.</p>
            
            <h3>SVN Status</h3>
            <p>This set of commands compares your changes to other versions of the code base.</p>

            <div class="singleSpacedDescription">
                    <div class="floatedObject">
                        <table>
                            <tr>
                                <th>Symbol</th>
                                <th>Meaning</th>
                            </tr>
                            <tr>
                                <td>(empty string)</td>
                                <td>No modifications</td>
                            </tr>
                            <tr>
                                <td>M</td>
                                <td>Modified item</td>
                            </tr>
                            <tr>
                                <td>?</td>
                                <td>New item not in repository</td>
                            </tr>
                            <tr>
                                <td>! (excl. pt.)</td>
                                <td>Repository item missing</td>
                            </tr>
                            <tr>
                                <td>A</td>
                                <td>Added item</td>
                            </tr>
                            <tr>
                                <td>D</td>
                                <td>Deleted item</td>
                            </tr>
                            <tr>
                                <td>I (capital "i")</td>
                                <td>Ignored item</td>
                            </tr>
                            <tr>
                                <td>G</td>
                                <td>Merged</td>
                            </tr>
                            <tr>
                                <td>C</td>
                                <td>Item in conflict with repository change</td>
                            </tr>
                        </table>
                        <div class="figcaption">
                            <p>Symbols for simple <code>svn status</code> command</p>
                        </div>
                    </div>
                <h4>$ svn status</h4>
                <p>Compare local version to the base revision&mdash;that is, to the repository version that your changes have modified, which may or may not be the same as what is currently in the repository. Item status is represented by symbols appearing in the left-most column of the output&mdash;see the table at right.</p>
            </div>

            <div class="singleSpacedDescription">
                    <div class="floatedObject">
                        <table>
                            <tr>
                                <th>Symbol</th>
                                <th>Meaning</th>
                            </tr>
                            <tr>
                                <td>* (asterisk, in mid. col.)</td>
                                <td>Repository version is newer</td>
                            </tr>
                            <tr>
                                <td>(integer, in right col.)</td>
                                <td>Item's local revision number</td>
                            </tr>
                        </table>
                        <div class="figcaption">
                            <p>Symbols for <code>svn status -u</code> command</p>
                        </div>
                    </div>
                <h4>$ svn status -u</h4>
                <p>Compare local version to the version of the file in the repository itself. Tells you what updates to the repository are not in the local version. In addition to the status of local changes given in the left-most column of the output, this command returns the repository status of items in the middle and right columns&mdash;see the table at right for these symbols. The command ends by displaying "Status against revision:" plus a revision number; this is the latest revision in the repository.</p>
            </div>

            <div class="singleSpacedDescription">
                <h4>$ svn status --no-ignore</h4>
                <p>Run the "svn status" command, but include in the output the status of ignored items.</p>
            </div>
            <br/>
           

            <h3>SVN Update</h3>
            <p>Moves recent changes from the repository to your local working copy.</p>
            
            <div class="singleSpacedDescription">
                <h4>$ svn update</h4>
                <p>Updates your local working copy with the latest from the repository.</p>
            </div>
             <br/>
           
            <h3>SVN Commit</h3>
            <p>Commits not only your modifications to the repository, but also commits the addition or removal of files to the repository. In other words, an "svn add", "svn remove" and "svn move" must all be followed by a commit.</p>
            
            <div class="singleSpacedDescription">
                <h4>$ svn commit -m "your message" &lt;item&gt;</h4>
                <p>Commit a single item, with a message that will go into the file's history.</p>
            </div>
            
            <div class="singleSpacedDescription">
                <h4>$ svn commit -m "your message"</h4>
                <p>Recursively commit your local changes to the repository, that is, commit all changes from the current directory down into the directory tree. The message becomes part of the change history.</p>
            </div>
            <br/>
            
            
            <h3>SVN Add</h3>
            <p>This set of commands adds files and directories to the repository. They deal only with items whose status is marked by a question mark ("?"). Note that <code>svn add </code> must all be followed by a commit.</p>
            
            <div class="singleSpacedDescription">
                <h4>$ svn add &lt;item&gt;</h4>
                <p>Add the file to the repository. If &lt;item&gt; is a directory, all unversioned subfolders and files will also be added&mdash;which may or may not be what you actually want.</p>
            </div>

            <div class="singleSpacedDescription">
                <h4>$ for i in  $(svn status | grep \? | awk '{print $2}'); do svn add $i; done</h4>
                <p>Probably your best bet for a recursive add. This Unix command recursively adds all new files to the repository, whether their directories are versioned or unversioned. The command works by adding all files whose status is "?", so it does not operate on your ignored files, as these do not appear in the status command.</p>
            </div>

            <div class="singleSpacedDescription">
                <h4>$ svn add *</h4>
                <p>Recursively add all new items to the repository. This command skips over versioned directories, i.e. it will not add unversioned files in a versioned directory (or even a non-versioned directory in a versioned directory). <b>Warning:</b> note that this command will also add files/folders in the current directory which are in your ignore list!</p>
            </div>

            <div class="singleSpacedDescription">
                <h4>$ svn add * --force</h4>
                <p>Recursively add all new items to the repository, whether their directories are versioned or unversioned. Note that this command will also add files/folders in the current directory which are in your ignore list!</p>
            </div>
            <br/>


            <h3>SVN Move</h3>
            <p>This set of commands moves or renames a file or directory. Moving or renaming a file through SVN is better than simply doing it through your operating system, because the file's change history will be maintained. (That is, SVN will copy the history of the old file to the new file's history.) A second advantage of doing the move through SVN, rather than via your file system, is that it spares you the bother of having to do an SVN delete on the old file name/path, and and SVN add on the new one: SVN does that for you.</p>
            <p>Note that SVN move commands must be followed by a commit.</p>
            <p>Also note that SVN may not at first let you do this commit. If you get the message "Item ... is out of date," don't panic. Do an svn update (see above), which will seemingly do nothing, but which in fact will let you perform the commit.</p>

            <div class="singleSpacedDescription">
                <h4>$ svn move &lt;oldItemName&gt; &lt;newItemName&gt;</h4>
                <p>Rename a file/directory.</p>
            </div>

            <div class="singleSpacedDescription">
                <h4>$ svn move &lt;oldPath/item&gt; &lt;newPath/item&gt;</h4>
                <p>Move a file/directory.</p>
            </div>
            <br/>


            <h3>SVN Remove/Delete</h3>
            <p>This set of commands removes a specific file or directory from the repository. The following svn commands behave identically: <code>remove, delete, rm, del</code>. Note that these changes must all be followed by a commit.</p>
            
            <div class="singleSpacedDescription">
                <h4>$ svn rm &lt;item&gt;</h4>
                <p>Remove the file/directory from both your filesystem and the repository.</p>
            </div>

            <div class="singleSpacedDescription">
                <h4>$ svn rm --keep-local &lt;item&gt;</h4>
                <p>Remove the file/directory from the repository, but not locally. This will generally be an important file or directory, e.g. .classpath. Ordinarily you will also want to <code>ignore</code> this file as well&mdash;see below.</p>
            </div>

            <div class="singleSpacedDescription">
                <h4>$ for i in  $(svn status | grep \! | awk '{print $2}'); do svn delete $i; done</h4>
                <p>Unix command to recursively delete all missing files from the repository, whether their directories are versioned or unversioned. The command works by deleting all files whose status is "!". Since, unlike <code>add</code>, there is no recursive version of <code>delete</code>, this command can sometimes be very useful&mdash;for example, if you've deleted many files in several directories via your operating system.</p>
            </div>
            <br/>


            <h3>SVN Ignore</h3>
            <p>Use svn's ignore property to avoid putting items into the repository. You do this, for example, with files that may differ from one machine to the next, as with .classpath settings&mdash;or with files which are produced in the compilation process, as with .class or .exe files and the directories which contain them. Note that after making these changes you will need to commit&mdash;and that your first attempt to commit may return a couple of SVN errors&mdash;and that these SVN errors probably indicate you need to do an "svn update" before you can commit.</p>
            
            <div class="singleSpacedDescription">
                <h4>$ export SVN_EDITOR=vim</h4>
                <p>Sets your property editor to vim; useful if the command below fails because you have no property editor. Note that vi and vim are powerful but not user-friendly.</p>
            </div>

            <div class="singleSpacedDescription">
                <h4>$ svn propedit svn:ignore .</h4>
                <p>This will bring up your text editor so you can enter a list of files or directories to ignore. Applicable only to those files and folders in the current directory.</p>
            </div>
            <br/>

            <h3>SVN Revert</h3>
            <p>Use svn revert to undo local changes and revert your code back to the repository's version.</p>
            
            <div class="singleSpacedDescription">
                <h4>$ svn revert item</h4>
                <p>Revert the item. Making the item a directory does <em>not</em> lead the command to recurse directories. See <code>svn revert -R</code> below.</p>
            </div>

            <div class="singleSpacedDescription">
                <h4>$ svn revert -R .</h4>
                <p>Recursively reverts all the modified files to their original repository versions. If a file is in an Add ("A") state, this command removes the <code>add</code>, changing the file's state to "?". No items in the "?" state will be deleted from the file system. To recursively remove these, see the next command below.</p>
            </div>

            <div class="singleSpacedDescription">
                <h4>$ for i in $(svn status | grep \? | awk '{print $2}'); do rm $i; done</h4>
                <p>Recursively deletes all the new but unadded files. The command first finds all items in the "?" state, then removes them.</p>
            </div>
            <br/>


            <h3>Less often used SVN commands</h3>
            <p>These commands are useful, but tend not to be used as often as the ones above.</p>
            
            <div class="singleSpacedDescription">
                <h4>$ svn list</h4>
                <p>List the items in the current directory which exist in the repository.</p>
            </div>

            <div class="singleSpacedDescription">
                <h4>$ svn info</h4>
                <p>Gives basic info about this working copy. Most useful when you want the URL of the repository location.</p>
            </div>

            <div class="singleSpacedDescription">
                <h4>$ svn checkout &lt;URL&gt;</h4>
                <p>Creates a local version of the repository, by linking the current directory to the repository and copying the files at the repository location to the current location in your file system. If a password is required you will be prompted with your computer user name as the default logon user name; if that is not correct, the password will fail and you'll be given a chance to input both the repository user name and the repository password.</p>
            </div>

            <div class="singleSpacedDescription">
                <h4>$ svn diff &lt;item&gt;</h4>
                <p>Does a Unix-style diff of the file and the base revision.</p>
            </div>

            <div class="singleSpacedDescription">
                <h4>$ svn update</h4>
                <h4>$ svn log --limit 6</h4>
                <p>Shows a subset of the latest commits to the repository. "svn log" without the limit argument shows an unreadable amount of history. Use "svn update" before "svn log", or very likely your most recent commits won't be displayed.</p>
            </div>

            <div class="singleSpacedDescription">
                <h4>$ svn merge -c -986 .</h4>
                <p>If r986 is your last committed revision, undoes that commit in your local working version. Note that this local change will itself have to be committed.</p>
            </div>
            <br/>

            <h3>SVN Troubleshooting</h3>
            <p>Here I offer some solutions to commonly-occurring SVN problems.</p>
            
            <div class="singleSpacedDescription">
                <h4><code>svn: E205000: Too many arguments to import command</code></h4>
                <h4><code>svn: E205000: Too many arguments to commit command</code></h4>
                <p>First, of course, verify that you do not have too many arguments for the command you're using. Once you've made sure that's not the issue, then see if your command unintentionally includes what are called "smart quotes" (high-ascii left and right single or double quotation marks). This can happen when you cut and paste the command from an editor like TextEdit on a Mac, or Word on a Windows machine.</p>
            </div>

            <div class="singleSpacedDescription">
                <h4><code>> local unversioned, incoming add upon update</code></h4>
                <p>If you're doing the two-step process of importing a new project into your repository, and checking out that same code into the same directory you're importing from, see "Add a new project to the repository." on my SVN Tasks page.</p>
            </div>

		</div>
		
		
		<div id="sidebar">
			<div class="internalLinkBox">
                <div class="title">
                    <h2>Internal Miscellaneous Links</h2>
                </div>
                <ul class="style2">
                    <li><a href="commandLine.html">A Few Command Line Tricks</a></li>
                    <li><a href="macNotes.html">Mac Notes</a></li>
                    <li><a href="svnCommands.html">SVN Command Summary</a></li>
                    <li><a href="svnTasks.html">SVN Tasks</a></li>
                    <li><a href="subversion-cheat-sheet-v1.pdf">SVN Cheat Sheet by AddedBytes.com</a></li>
                </ul>
            </div>
		</div>
	</div>
</div>
<div id="copyright" class="container">
	<p>&copy; 2013-2015 Jerry Kurlandski. All rights reserved. | Original design by <a href="http://www.freecsstemplates.org/" rel="nofollow">FreeCSSTemplates.org</a>.</p>
</div>
</body>
</html>
