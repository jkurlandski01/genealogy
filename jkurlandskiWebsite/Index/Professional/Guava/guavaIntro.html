<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>JERRY</title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<link href="../../default.css" rel="stylesheet" type="text/css" media="all" />
<link href="../../fonts.css" rel="stylesheet" type="text/css" media="all" />
<!--[if IE 6]>
<link href="default_ie6.css" rel="stylesheet" type="text/css" />
<![endif]-->
</head>
<body>
<div id="wrapper">
	<div id="header-wrapper">
		<div id="menu" class="container">
			<ul>
				<li><a href="../index.html">Home</a></li>
				<li class="current_page_item"><a href="../Guava/index.html">Guava</a></li>
				<li><a href="../Java/index.html">Java</a></li>
				<li><a href="../NLP_AI/index.html">NLP / AI</a></li>
				<li><a href="../CSS_HTML/index.html">CSS / HTML</a></li>
				<li><a href="../Web/index.html">Web</a></li>
			</ul>
		</div>
		<!-- end #menu -->
		<div id="header" class="container">
			<div id="logo">
				<h1>Close to the</h1>
				<h1>Machine</h1>
				<p></p>
				<p>Jerry Kurlandski</p>
			</div>
			<div id="header-image1"> <a href="#" class="image"><img src="../../images/bookshelfPanorama.jpg" alt="" /></a> </div>
			<div id="header-image2"> <a href="#" class="image"><img src="../../images/bookshelfPanorama.jpg" alt="" /></a> </div>
		</div>
	</div>
	<div id="page" class="container">
		<div id="content">
			<div class="title">
				<h2>Guava Intro</h2>
			</div>
			<p>Google's Guava tools offer Java developers a wide range of very useful Collection utilities. One of the easiest ways to introduce yourself to these tools is to start with the interface methods that let you quickly create and initialize your garden variety Java collections. Here I'll give a quick introduction to this aspect of Guava. See the sidebar for other ways in which Guava will make your Java programming easier.</p>
			
			<h3>Summary: Creating and Initializing Basic Lists, Sets and Maps</h3>
            <p>Let's jump right in. The first example below shows what is my most common usage of Guava--initializing an ArrayList.</p>

<p class="precaption">Listing 1: Instantiating and Initializing an ArrayList with Guava</p>
<pre class="preCodeWithCaption">
@Test
public void initializeArrayList()   {
    List&lt;String&gt; diveForms = Lists.newArrayList(&quot;dive&quot;, &quot;dives&quot;, &quot;dived&quot;, &quot;dived&quot;);
    
    assertEquals(4, diveForms.size());
}
</pre>

            <p>The next listing shows how Guava lets you create and instantiate a new HashSet just as easily. Note that the assertEquals( ) method expects three elements rather than four because we are dealing with a set rather than a list. </p>

<p class="precaption">Listing 2: Instantiating and Initializing a HashSet with Guava</p>
<pre class="preCodeWithCaption">
@Test
public void initializeHashSet() {
    Set&lt;String&gt; diveForms = Sets.newHashSet(&quot;dive&quot;, &quot;dives&quot;, &quot;dived&quot;, &quot;dived&quot;);
    
    assertEquals(3, diveForms.size());
}
</pre>

            <p>Guava's Map creation isn't quite so convenient as that of the List and Set implementations. You can't do it all in a single line.</p>

<p class="precaption">Listing 3: Instantiating and Initializing a HashMap with Guava</p>
<pre class="preCodeWithCaption">
@Test
public void initializeHashMap() {
    Map&lt;Integer, String&gt; map = Maps.newHashMap();
    map.put(Integer.valueOf(1), &quot;one&quot;);
    map.put(Integer.valueOf(2), &quot;two&quot;);
    
    assertEquals(2, map.size());
}
</pre>

            <p>So although, as we've seen, map initialization cannot be done in a single line, you can leverage single-line Set (and List) creation to make map initialization very easy nonetheless. Check out the listing below.</p>

<p class="precaption">Listing 4: Instantiating and Initializing a Map&lt;X, HashSet&lt;Y&gt;&gt; with Guava</p>
<pre class="preCodeWithCaption">
@Test
public void initializeMapToHashSet() {
    Map&lt;String, HashSet&lt;String&gt;&gt; map2 = Maps.newHashMap();
    map2.put(&quot;city&quot;, Sets.newHashSet(&quot;London&quot;, &quot;Tokyo&quot;));
    map2.put(&quot;country&quot;, Sets.newHashSet(&quot;Great Britain&quot;, &quot;Japan&quot;));
    
    assertEquals(2, map2.size());
}
</pre>
        </br>

            <h3>Why the Guava Way is the One True Way</h3>
            <p>This section is only for those of you who need a little more persuading that Guava, really, is the one true way. In order to make the argument crystal clear, I'm going to repeat some of the examples already given above.</p>
            <p>Let's first compare ArrayList initialization under Java 1.7 with and without Guava.</p>
            
<p class="precaption">Listing 5: Initializing an ArrayList under Java 1.7 without and with Guava</p>
<pre class="preCodeWithCaption">
    // Without Guava
    List&lt;String&gt; noGuavaList = new ArrayList&lt;String&gt;();
    noGuavaList.add(&quot;dive&quot;);
    noGuavaList.add(&quot;dives&quot;);
    noGuavaList.add(&quot;dived&quot;);    
    assertEquals(3, noGuavaList.size());
    
    // With Guava
    List&lt;String&gt; guavaList = Lists.newArrayList(&quot;dive&quot;, &quot;dives&quot;, &quot;dived&quot;);   
    assertEquals(3, guavaList.size());
    
</pre>
            <p>You see that the Guava approach is much more succinct, without sacrificing readablity or clarity.</p>

            <p>Java 1.8 saves you the "&lt;String&gt;,&quot; letting you get away with &quot;&lt;&gt;," but you still have to initialize the ArrayList one element at a time.</p>

<p class="precaption">Listing 6: Instantiating and Initializing an ArrayList under Java 1.8</p>
<pre class="preCodeWithCaption">
    List&lt;String&gt; java1_8List = new ArrayList&lt;&gt;();
    java1_8List.add(&quot;dive&quot;);
    java1_8List.add(&quot;dives&quot;);
    java1_8List.add(&quot;dived&quot;);
    
    assertEquals(3, java1_8List.size());
</pre>

<p>JERRY: stopped here; perhaps delete example below--to hard to follow</p>
            <p>Creating a HashSet under Java versions 1.7 and 1.8 follows the same pattern as ArrayList. In fact, only the Map creation is NOT significantly better with Guava, as compared to Java 1.8. Compare the next listing below with Listing 3 above, and you'll see that there's no real difference.</p>

<p class="precaption">Listing 7: Instantiating and Initializing a HashMap under Java 1.8</p>
<pre class="preCodeWithCaption">
    Map&lt;Integer, String&gt; hashMap1_8 = new HashMap&lt;&gt;();
    hashMap1_8.put(Integer.valueOf(1), &quot;one&quot;);
    hashMap1_8.put(Integer.valueOf(2), &quot;two&quot;);
    
    assertEquals(2, hashMap1_8.size());
</pre>

            <h3>Less Common, but Still Useful Implementations</h3>
            <p>ArrayList tends to suit most of my List needs, but in case your needs are different, Guava lets you create other types of List collections--for example a LinkedList. A linked list lets you insert items into, and remove items from, the middle of your list with less cost. In the example below, I'm imagining you have a linked list of body parts where each list element is a node representing a "part of" the node to its left. (This is probably not the best example of when you would use a LinkedList, but my point here is simply to illustrate <b>how</b> to create one, not <b>when</b> to use one.)</p>
            
 <p class="precaption">Listing 8: Instantiating and Initializing a LinkedList with Guava, ver. 1</p>
<pre class="preCodeWithCaption">
public class Part   {
    String name;
    public Part(String part)    { name = part; }
}

@Test
public void initializeLinkedList()  {
    List&lt;Part&gt; partList = Lists.newLinkedList();
    partList.add(new Part(&quot;head&quot;));
    partList.add(new Part(&quot;nose&quot;));
    partList.add(new Part(&quot;nostril&quot;));
    
    assertEquals(3, partList.size());
}
</pre>

            <p>Unlike newArrayList( ), Lists.newLinkedList( ) does not let you pass a parameter to the constructor to initialize your list. The listing above illustrates this by adding each element to the LinkedList separately. But the constructor does let you pass in a collection, as the next listing makes clear.</p>
           
 <p class="precaption">Listing 9: Instantiating and Initializing a LinkedList with Guava, ver. 2</p>
<pre class="preCodeWithCaption">
    List&lt;Part&gt; tempList = Lists.newArrayList(new Part(&quot;head&quot;), new Part(&quot;nose&quot;), new Part(&quot;nostril&quot;));
    List&lt;Part&gt; partList = Lists.newLinkedList(tempList);
    
    assertEquals(3, partList.size());
</pre>
            <p>I suppose initializing a LinkedList with an ArrayList which was initialized with a single line of code is an example of having your cake and eating it, too.</p>

            <p>We'll pass over the alternate Sets instantiation methods (since I have never had a need for them), and move directly to TreeMap.</p>
           
 <p class="precaption">Listing 10: Instantiating and Initializing a TreeMap with Guava</p>
<pre class="preCodeWithCaption">
@Test
public void initializeTreeMap() {
    Map&lt;Integer, String&gt; map = Maps.newTreeMap();
    map.put(Integer.valueOf(1), &quot;one&quot;);
    map.put(Integer.valueOf(2), &quot;two&quot;);
    
    assertEquals(2, map.size());
}
</pre>

            <p>As we saw with Maps.newHashMap( ), the method does not let you pass in values so that instantiation and initialization can both take place in the same line of code. For this reason, in the case of TreeMap, Guava does not have much more to offer than Java 1.8. </p>
           
		</div>
		<div id="sidebar">
			<div class="internalLinkBox">
				<div class="title">
					<h2>Internal Guava Links</h2>
				</div>
				<ul class="style2">
                    <li><a href="hashBasedTable.html">Using Guava's HashBasedTable class</a></li>
                    <li><a href="setOperations.html">Java set operations with Guava</a></li>
                    <li><a href="guavaMultimap.html">Guava Multimap</a></li>
                    <li><a href="guavaMultiset.html">Guava Multiset</a></li>
				</ul>
			</div>
			<div class="internalLinkBox">
				<div class="title">
					<h2>External Guava Links</h2>
				</div>
				<ul class="style2">
					<li><a href="http://tomjefferys.blogspot.com/2011/09/multimaps-google-guava.html">How to use Multimaps</a></li>
					<li><a href="http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/HashBasedTable.html">HashBasedTable Javadoc</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
<div id="copyright" class="container">
	<p>Copyright (c) 2013 jkurlandski.com. All rights reserved. | Original design by <a href="http://www.freecsstemplates.org/" rel="nofollow">FreeCSSTemplates.org</a>.</p>
</div>
</body>
</html>
