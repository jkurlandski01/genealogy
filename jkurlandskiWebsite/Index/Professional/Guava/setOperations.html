<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Close to the Machine</title>
<meta name="keywords" content="" />
<meta name="description" content="" />
<link href="../../default.css" rel="stylesheet" type="text/css" media="all" />
<link href="../../fonts.css" rel="stylesheet" type="text/css" media="all" />
<!--[if IE 6]>
<link href="default_ie6.css" rel="stylesheet" type="text/css" />
<![endif]-->
</head>
<body>
<div id="wrapper">
	<div id="header-wrapper">
		<div id="menu" class="container">
			<ul>
				<li><a href="../index.html">Home</a></li>
				<li class="current_page_item"><a href="../Guava/index.html">Guava</a></li>
				<li><a href="../Java/index.html">Java</a></li>
				<li><a href="../NLP_AI/index.html">NLP / AI</a></li>
				<li><a href="../CSS_HTML/index.html">Int. CSS / HTML</a></li>
				<li><a href="../WWW/index.html">WWW</a></li>
			</ul>
		</div>
		<!-- end #menu -->
		<div id="header" class="container">
			<div id="logo">
				<h1>Close to the</h1>
				<h1>Machine</h1>
				<p></p>
				<p>Jerry Kurlandski</p>
			</div>
			<div id="header-image1"> <a href="#" class="image"><img src="../../images/bookshelfPanorama.jpg" alt="" /></a> </div>
			<div id="header-image2"> <a href="#" class="image"><img src="../../images/bookshelfPanorama.jpg" alt="" /></a> </div>
		</div>
	</div>
	<div id="page" class="container">
		<div id="content">
			<div class="title">
				<h2>Set Operations with Guava</h2>
			</div>
			<p>blah, blah</p>
			<p class="precaption">Listing 1: Using TreeMap to sort the index of an in-memory table</p>
			<pre><code>
// JERRY: shouldn't we be using sets, not lists?
                Set<String> canObjectSet = Sets.newHashSet(candDirObjects);
                Set<String> utteranceObjectSet = Sets.newHashSet(utteranceDirObjects);

                // Get the intersection of the two direct object sets.
                if(Sets.intersection(canObjectSet, utteranceObjectSet).isEmpty())     {
                    // Candidate gets a score of 0.
                    LOG.debug("Score = 0.0");
                    continue;
                }

                // Get the intersection of the two direct object sets.
//                List<String> objectIntersection = Lists.newArrayList(candDirObjects);
//                objectIntersection.retainAll(utteranceDirObjects);
//                if(objectIntersection.isEmpty())   {
//                    // Candidate gets a score of 0.
//                    LOG.debug("Score = 0.0");
//                    continue;
//                }
                
                // The user input and the prompt for this candidate share at least one direct object.
                List<String> candIndirObjects = objectsMap.get("indirObjects");
                List<String> utteranceIndirObjects = utteranceObjectsMap.get("indirObjects");
                if(candIndirObjects.isEmpty() || utteranceIndirObjects.isEmpty())   {
                    candidate.setConfidenceScore(0.5);
                    LOG.debug("Score = 0.5");
                    continue;
                }

                Set<String> canIndirObjectSet = Sets.newHashSet(candIndirObjects);
                Set<String> utteranceIndirObjectSet = Sets.newHashSet(utteranceIndirObjects);
                if(Sets.intersection(canIndirObjectSet, utteranceIndirObjectSet).isEmpty()) {
                    // The candidate and the user input share only direct objects.
                    candidate.setConfidenceScore(0.5);
                    LOG.debug("Score = 0.5");
                    continue;
                } else    {
                    // The user input and the prompt for this candidate share both direct objects and indirect objects.
                    candidate.setConfidenceScore(1.0);
                    LOG.debug("Score = 1.0");
                    continue;
                }

//                objectIntersection = Lists.newArrayList(candIndirObjects);
//                objectIntersection.retainAll(utteranceIndirObjects);
//                if(objectIntersection.isEmpty())   {
//                    // They share only direct objects.
//                    candidate.setConfidenceScore(0.5);
//                    LOG.debug("Score = 0.5");
//                    continue;
//                }
//                else    {
//                    // The user input and the prompt for this candidate share both direct objects and indirect objects.
//                    candidate.setConfidenceScore(1.0);
//                    LOG.debug("Score = 1.0");
//                    continue;
//                }
//                
			</code></pre>

		</div>
		<div id="sidebar">
			<div class="internalLinkBox">
				<div class="title">
					<h2>Internal Guava Links</h2>
				</div>
				<ul class="style2">
					<li><a href="hashBasedTable.html">Using Guava's HashBasedTable class</a></li>
					<li><a href="setOperations.html">Java set operations with Guava</a></li>
				</ul>
			</div>
		</div>
		<div id="sidebar">
			<div class="internalLinkBox">
				<div class="title">
					<h2>External Guava Links</h2>
				</div>
				<ul class="style2">
					<li><a href="http://tomjefferys.blogspot.com/2011/09/multimaps-google-guava.html">How to use Multimaps</a></li>
					<li><a href="http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/collect/HashBasedTable.html">HashBasedTable Javadoc</a></li>
				</ul>
			</div>
		</div>
	</div>
</div>
<div id="copyright" class="container">
	<p>Copyright (c) 2013 jkurlandski.com. All rights reserved. | Original design by <a href="http://www.freecsstemplates.org/" rel="nofollow">FreeCSSTemplates.org</a>.</p>
</div>
</body>
</html>
